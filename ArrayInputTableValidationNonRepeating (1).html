<html>

<body>


<div class="namec">
 <input type="hidden" id="arrayhidden" name="arrayhidden">
   <label>Name:</label>
   <input type="text" id="text1" name="text1">
 </div>
<br>
<div class="phone">
   <label>Contact Number:</label> <input type="number" id="ph" name="ph" pattern="/^-?\d+\.?\d*$/" onKeyPress="if(this.value.length==10) return false;"/>
    </div>

<div class="email">
   <label>Email Address:</label>
   <input type="text" id="Email1" name="Email"> <input type="hidden" id="emailupdate" name="emailupdate">
</div>
   <br>
 <div class="education">
   <label for="Options">Education Completed:</label>
   <select name="Options" id="options">
   <option value="10th">10th</option>
   <option value="12th">12th</option>
   <option value="Undergraduate" id="ug">Undergraduate</option>
   <option value="Postgraduate">Postgraduate</option>
   <option value="Diploma">Diploma</option>
   </select>

    </div>

   <br>


 <div class="gender" id="showhidegender">
  <p>Gender:</p>
  <input type="radio" id="male" name="gender2" value="Male">
  <label for="Male">Male</label><br>
  <input type="radio" id="female" name="gender2" value="Female">
  <label for="Female">Female</label>
     </div>


	<div class="transport">
	<p>Mode of Transport</p>
  <input type="checkbox" name="transport" value="Bike" id="hide">
  <label for="vehicle1">Bike</label><br>
  <input type="checkbox" name="transport" value="Car">
  <label for="vehicle2">Car</label><br>
  <input type="checkbox" name="transport" value="Bus">
  <label for="vehicle3">Bus</label>
 </div>
	<br>





  <div class="submit">
   <input type="button" id="submitid" value="SUBMIT" class="submitid" onclick= "copy()" >
</div>




<br>
<br>

<div id="divtb">


</div>


<script>

document.getElementById('hide').onchange = function() {
    document.getElementById('showhidegender').style.display = this.checked ? 'block' : 'none';
};

</script>



</body>




<script>
var data = [];
function copy()
{
debugger;


if (document.getElementById("submitid").value == "SUBMIT") {



if(phonenumber(document.getElementById("ph").value) && emailvalid(document.getElementById("Email1").value))
{

var vehicle="";
var checkbox = document.getElementsByName('transport');
 for(i = 0; i < checkbox.length; i++) {
  if(checkbox[i].checked)

  vehicle += checkbox[i].value + "  " ;


 }


var Gender="";
var radio = document.getElementsByName('gender2');
 for(i = 0; i < radio.length; i++) {
  if(radio[i].checked)

  Gender = radio[i].value;

  }





  var repeatphone = 0
  var repeatemail = 0
  for (let i = 0; i < data.length; i++) {

 if (document.getElementById("ph").value == data[i].Phone)
 {
 repeatphone = 1
 alert("Mobile Number already Submitted")

}
if (document.getElementById("Email1").value == data[i].email)
 {
 repeatemail = 1
 alert("Email Address already Submitted")

}

}
 if (repeatphone == 0 && repeatemail==0)
{




data.push({name: document.getElementById("text1").value,Phone:document.getElementById("ph").value,email:document.getElementById("Email1").value,education:document.getElementById("options").value,Genderpush:Gender,transportpush:vehicle });
console.log(data);

var tbdata = "";
tbdata += "<table>"
tbdata += "<tr>"
tbdata += "<th>Name</th>"
tbdata += "<th>Phone No.</th>"
tbdata += "<th>Email</th>"
tbdata += "<th>Education Completed</th>"
tbdata += "<th>Gender</th>"
tbdata += "<th>Mode of Transport</th>"
tbdata += "<th>EDIT RECORD</th>"
tbdata += "</tr>"




for (let i = 0; i < data.length; i++) {

 tbdata +=  "<tr>"
    +"<td>"+data[i].name+"</td>"
	+"<td>"+data[i].Phone+"</td>"
	+"<td>"+data[i].email+"</td>"
	+"<td>"+data[i].education+"</td>"
	+"<td>"+data[i].Genderpush+"</td>"
    +"<td>"+data[i].transportpush+"</td>"
    +"<td><a href='#' onclick='editfn("+i+")'>Edit this record</a></td>" //1. here i is same variable as in loop and as its a variable its between plus sign in editfn parameter
 + "</tr>";

  }

tbdata += "</table>" ;
document.getElementById("divtb").innerHTML = tbdata ;


}
}
}


else {
  var tbdata = "";
  tbdata += "<table>"
  tbdata += "<tr>"
  tbdata += "<th>Name</th>"
  tbdata += "<th>Phone No.</th>"
  tbdata += "<th>Email</th>"
  tbdata += "<th>Education Completed</th>"
  tbdata += "<th>Gender</th>"
  tbdata += "<th>Mode of Transport</th>"
  tbdata += "<th>EDIT RECORD</th>"
  tbdata += "</tr>"

var k = document.getElementById("arrayhidden").value ;
document.getElementById("submitid").value = "save";
data[k].name =  document.getElementById("text1").value; //here the value given to name/phone field in 2. is then given to array k index
 data[k].Phone =  document.getElementById("ph").value ;
 data[k].email = document.getElementById("Email1").value;
data[k].education = document.getElementById("options").value;
 data[k].transportpush = document.getElementsByName('transport').checked;

 for (let i = 0; i < data.length; i++) {

  tbdata +=  "<tr>"
     +"<td>"+data[i].name+"</td>"
 	+"<td>"+data[i].Phone+"</td>"
 	+"<td>"+data[i].email+"</td>"
 	+"<td>"+data[i].education+"</td>"
 	+"<td>"+data[i].Genderpush+"</td>"
     +"<td>"+data[i].transportpush+"</td>"
     +"<td><a href='#' onclick='editfn("+i+")'>Edit this record</a></td>"
  + "</tr>";

   }

 tbdata += "</table>" ;
 document.getElementById("divtb").innerHTML = tbdata ;




  }





}




</script>

<script>


function phonenumber(inputtxt)
{
debugger;
  var phoneno = /^\d{10}$/;
  if(inputtxt.match(phoneno))
  {
  //document.getElementById("ph11").innerText = document.getElementById("ph").value;
      return true;
  }
  else
  {
     alert("Not a valid MObile Number");
     return false;
  }



  }

function emailvalid(inputemail)
{
  var emailv = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
  if(inputemail.match(emailv))
  {
  //document.getElementById("email11").innerText = document.getElementById("Email1").value;
       return true;

  }
  else
  {
      alert("Not a valid Email address");
	  return false;
     }
  }
</script>



<script>
function editfn(r) {
debugger;

document.getElementById("submitid").value = "Update" ;
document.getElementById("arrayhidden").value = r ;  //2. here r is array row no. equaled to hidden field input
document.getElementById("text1").value =  data[r].name ; // here name/phone fields are given actual value/data of array row to be edited
document.getElementById("ph").value =  data[r].Phone ;
document.getElementById("Email1").value =  data[r].email ;
document.getElementById("options").value =  data[r].education ;
document.getElementsByName('transport').checked =  data[r].transportpush ;
}
</script>


<style>




#showhidegender {
    display: none;
}



input[type=text]:focus {
 width: 100%;

}


#ph {
 width: 180px;
 padding: 6px 15px;
 margin: 5px 100px;
 box-sizing: border-box;
 transition: width 0.4s ease-in-out
}



input[type=text] {
 width: 180px;
 padding: 6px 15px;
 margin: 5px 100px;
 box-sizing: border-box;
 transition: width 0.4s ease-in-out
}

input[type=number] {
 width: 100%;
 padding: 6px 15px;
 margin: 5px 0;
 box-sizing: border-box;
}

BODY {

background-color: lightblue;

}



<table {
  font-family: arial, verdana;
  border-collapse: collapse;
  width: 100%;

}

th{


 background-color: lightgreen;





}




td  {
  border: 2px solid #8C9491;
  text-align: left;
  padding: 20px;

}

tr:nth-child(even) {
  background-color: yellow;

}



</body>

</html>
